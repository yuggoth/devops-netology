# 6.4. PostgreSQL

## 1 задание

Найдите и приведите управляющие команды для:

	\l

вывода списка БД

	\c

подключения к БД

	\dtS

вывода списка таблиц

	\dS+

вывода описания содержимого таблиц

	exit

выхода из psql

## 2 задание

Подключитесь к восстановленной БД и проведите операцию ANALYZE для сбора статистики по таблице.

![alt text](https://i2.paste.pics/a1f48a1a8228b0a1e35f423e001eb3cf.png)

Используя таблицу pg_stats, найдите столбец таблицы orders с наибольшим средним значением размера элементов в байтах.

![alt text](https://i2.paste.pics/03cc76e8280fc40d12dadd2bd269c5f7.png)

## 3 задание

![alt text](https://i2.paste.pics/339a9e9653166219ee86b805e1b741ba.png)

Я сделала новую таблицу, внутри нее две секции по условию, и перенесла строки туда. У меня есть сомнение, что можно так скопировать данные при большом объеме таблицы.

Можно ли было изначально исключить "ручное" разбиение при проектировании таблицы orders?

Преобразовать обычную таблицу в секционированную и наоборот нельзя. Можно было сделать секционирование только при создании. 

## 4 задание

![alt text](https://i2.paste.pics/d6de5cf706143bf96a4763e82520351b.png)

Чтобы сделать столбец уникальным можно задать ему ограничение UNIQUE.

	CREATE TABLE public.orders (
	    id integer NOT NULL,
	    title character varying(80) NOT NULL UNIQUE,
	    price integer DEFAULT 0
	);

